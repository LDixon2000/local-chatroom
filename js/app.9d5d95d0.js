(function(e){function t(t){for(var c,r,a=t[0],u=t[1],b=t[2],l=0,d=[];l<a.length;l++)r=a[l],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);i&&i(t);while(d.length)d.shift()();return o.push.apply(o,b||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],c=!0,a=1;a<s.length;a++){var u=s[a];0!==n[u]&&(c=!1)}c&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var c={},n={app:0},o=[];function r(t){if(c[t])return c[t].exports;var s=c[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=c,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(s,c,function(t){return e[t]}.bind(null,c));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var b=0;b<a.length;b++)t(a[b]);var i=u;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("cd49")},"17f1":function(e,t,s){"use strict";s("6911")},"49df":function(e,t,s){},"545f":function(e,t,s){},6911:function(e,t,s){},"7c35":function(e,t,s){},"7eb3":function(e,t,s){"use strict";s("7c35")},a035:function(e,t,s){"use strict";s("49df")},cd49:function(e,t,s){"use strict";s.r(t);var c=s("7a23"),n=s("5502");const o=Symbol(),r=Object(n["a"])({state:{user:""},getters:{getUser:e=>e.user},mutations:{setUser(e,t){e.user=t}}});function a(){return Object(n["b"])(o)}function u(e,t,s,n,o,r){const a=Object(c["x"])("router-view");return Object(c["q"])(),Object(c["d"])(a)}var b=Object(c["g"])({});s("dcac");b.render=u;var i=b,l=s("6c02");const d=Object(c["G"])("data-v-2bdb02fc");Object(c["t"])("data-v-2bdb02fc");const m={class:"container"},O=Object(c["f"])("div",null,[Object(c["f"])("h1",null,"Chatroom")],-1),f={class:"chatroom-container"},j={id:"chatroom",ref:"chatroom"},p={class:"input-group message-input"};Object(c["r"])();const g=d((e,t,s,n,o,r)=>{const a=Object(c["x"])("Message");return Object(c["q"])(),Object(c["d"])("div",m,[O,Object(c["f"])("div",f,[Object(c["f"])("div",j,[(Object(c["q"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(e.messages,t=>(Object(c["q"])(),Object(c["d"])("div",{class:"message",key:t},[Object(c["f"])(a,{message:t,div:e.chatroom},null,8,["message","div"])]))),128))],512),Object(c["f"])("div",p,[Object(c["E"])(Object(c["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.message=t),class:"form-control",type:"text",name:"message",id:"message",onKeyup:t[2]||(t[2]=Object(c["F"])((...t)=>e.sendMessage&&e.sendMessage(...t),["enter"]))},null,544),[[c["C"],e.message]]),Object(c["f"])("button",{type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...t)=>e.sendMessage&&e.sendMessage(...t))}," Submit ")])])])});var v=s("8e27");const h=Object(c["G"])("data-v-22d5f564");Object(c["t"])("data-v-22d5f564");const y={class:"message-container"},k={key:0,id:"message"},w={key:1,id:"message"};Object(c["r"])();const _=h((e,t,s,n,o,r)=>(Object(c["q"])(),Object(c["d"])("div",y,[e.message.user?(Object(c["q"])(),Object(c["d"])("div",w,Object(c["z"])(e.message.user)+": "+Object(c["z"])(e.message.message),1)):(Object(c["q"])(),Object(c["d"])("div",k,Object(c["z"])(e.message),1))])));var q=Object(c["g"])({props:["message","chatroom"],setup(e){a();return console.log("message"),{}}});s("17f1");q.render=_,q.__scopeId="data-v-22d5f564";var M=q,x=Object(c["g"])({setup(){const e=Object(c["v"])(),t=a(),s=[],n=Object(c["u"])({message:"",user:t.state.user,socket:Object(v["io"])("http://localhost:3000"),messages:s});function o(){n.message&&(n.socket.emit("chat message",{user:n.user,message:n.message}),n.message="")}return Object(c["n"])(()=>{n.socket.on("new message",e=>{n.messages.push(e)}),n.socket.on("user connected",e=>{const t=e+" has connected";n.messages.push(t)}),n.socket.on("user disconnected",e=>{const t=e+" has disconnected";n.messages.push(t)})}),Object(c["p"])(()=>{e.value&&(e.value.scrollTop=e.value.scrollHeight)}),{...Object(c["A"])(n),chatroom:e,sendMessage:o}},components:{Message:M}});s("a035");x.render=g,x.__scopeId="data-v-2bdb02fc";var P=x;const S=Object(c["G"])("data-v-4574f8ea");Object(c["t"])("data-v-4574f8ea");const C={class:"home"},U={class:"",id:"login-section"},H={id:"user-login"},A=Object(c["f"])("h4",null,"Please enter a username",-1),E={class:"form-group"},N=Object(c["f"])("button",{type:"submit",class:"btn submit"},"Enter",-1);Object(c["r"])();const z=S((e,t,s,n,o,r)=>(Object(c["q"])(),Object(c["d"])("div",C,[Object(c["f"])("div",U,[Object(c["f"])("div",H,[A,Object(c["f"])("div",E,[Object(c["f"])("div",null,[Object(c["E"])(Object(c["f"])("input",{type:"text",placeholder:"Username",name:"username","onUpdate:modelValue":t[1]||(t[1]=t=>e.user=t),id:"username"},null,512),[[c["C"],e.user]])]),e.user?(Object(c["q"])(),Object(c["d"])("div",{key:0,onClick:t[2]||(t[2]=(...t)=>e.submitName&&e.submitName(...t))},[N])):Object(c["e"])("",!0)])])])])));var G=Object(c["g"])({name:"Home",setup(){const e=a(),t=Object(l["c"])(),s=Object(c["u"])({user:e.state.user,socket:Object(v["io"])("http://localhost:3000"),check:!1});function n(){const c=Date.now().toString();s.socket.emit("check user",c,s.user),s.socket.on(c,c=>{c?(e.commit("setUser",s.user),console.log(s.user),t.push("/Chatroom")):alert("Name taken")})}return{...Object(c["A"])(s),submitName:n}},components:{}});s("7eb3");G.render=z,G.__scopeId="data-v-4574f8ea";var I=G;const T=[{path:"/chatroom",name:"Chatroom",component:P,meta:{requiresAuth:!0}},{path:"/",name:"Home",component:I,meta:{requiresAuth:!0}}],J=Object(l["a"])({history:Object(l["b"])("/"),routes:T});J.beforeEach((e,t,s)=>{const c=r.state.user;console.log(c),console.log(e),"Home"!==e.name&&""===c?(s({name:"Home"}),console.log(c)):s()});var V=J;const D=Object(c["c"])(i);D.use(r,o),D.use(V),D.mount("#app")},dcac:function(e,t,s){"use strict";s("545f")}});
//# sourceMappingURL=app.9d5d95d0.js.map